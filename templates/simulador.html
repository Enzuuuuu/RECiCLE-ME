{% extends "base.html" %}

{% block content %}
    <main>
        <section class="simulador">
            <h2>Simulador de Impacto Ambiental</h2>
            <p>Utilize nosso simulador para calcular o impacto positivo da reciclagem em sua comunidade.</p>
            <form action="/simular" method="post">
                <label for="material">Tipo de Material:</label>
                <select id="material" name="material">
                    <option value="papel">Papel</option>
                    <option value="plastico">Plástico</option>
                    <option value="vidro">Vidro</option>
                    <option value="aluminio">Alumínio</option>
                    <option value="aco">Aço</option>
                </select>
                <label for="quantidade">Quantidade (kg):</label>
                <input type="number" id="quantidade" name="quantidade" min="0" step="0.1">
                <button type="submit">Calcular Impacto</button>
            </form>
        </section>

        {% if energia_eco is defined %}
    <div id="dados-grafico" 
         data-energia="{{ energia_eco }}" 
         data-agua="{{ agua_eco }}" 
         data-co2="{{ co2_eco }}">
    </div>

    <div style="max-width: 400px; margin: 20px auto;">
        <canvas id="meuGrafico"></canvas>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ url_for('static', filename='js/grafico.js') }}"></script>
{% endif %}

    </main>
{% endblock %}